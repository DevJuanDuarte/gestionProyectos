<ng-template #divLoading>
  <div class="flex justify-content-center align-items-center h-screen">
    <mat-spinner></mat-spinner>
  </div>
</ng-template>

<div *ngIf="proyecto; else divLoading" class="grid gap-4 p-2">
  <!-- Proyecto Card -->
  <mat-card class="col-12 sm-6 text-center">
    <mat-card-title>{{proyecto.name}}</mat-card-title>
    <mat-card-subtitle>{{proyecto.website}}</mat-card-subtitle>
    <button mat-button mat-raised color="primary" [routerLink]="['/proyectos/list']">
      <mat-icon>arrow_back</mat-icon> Regresar
    </button>
  </mat-card>

  <!-- Tareas Cards -->
  <mat-card class="col-12">
    <mat-card-title class="mb-2">Tareas</mat-card-title>
    <mat-divider></mat-divider>
    <div class="grid gap-4" style="grid-template-columns: repeat(3, 1fr); max-height: 600px; overflow-y: auto;">
      <div *ngFor="let tarea of tareas" class="col-12 md-4">
        <mat-card class="shadow-2 mb-3 rounded">
          <mat-card-header>
            <mat-card-title># {{tarea.id}}</mat-card-title>
          </mat-card-header>
          <mat-card-content>
            <p><strong>TÃ­tulo:</strong> {{tarea.title}}</p>
            <p><strong>Estado:</strong> {{tarea.completed ? 'Completada' : 'No Completada'}}</p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </mat-card>
</div>
